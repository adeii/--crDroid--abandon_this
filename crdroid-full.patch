
project bionic/
diff --git a/libc/arch-arm/arm.mk b/libc/arch-arm/arm.mk
index c2b80c5..b764e49 100644
--- a/libc/arch-arm/arm.mk
+++ b/libc/arch-arm/arm.mk
@@ -51,7 +51,7 @@ ifeq ($(strip $(TARGET_$(my_2nd_arch_prefix)CPU_VARIANT)),)
 endif
 cpu_variant_mk := $(LOCAL_PATH)/arch-arm/$(TARGET_$(my_2nd_arch_prefix)CPU_VARIANT)/$(TARGET_$(my_2nd_arch_prefix)CPU_VARIANT).mk
 ifeq ($(wildcard $(cpu_variant_mk)),)
-$(error "TARGET_$(my_2nd_arch_prefix)CPU_VARIANT not set or set to an unknown value. Possible values are cortex-a7, cortex-a8, cortex-a9, cortex-a15, krait, scorpion, denver. Use generic for devices that do not have a CPU similar to any of the supported cpu variants.")
+$(error "TARGET_$(my_2nd_arch_prefix)CPU_VARIANT not set or set to an unknown value. Possible values are cortex-a5, cortex-a7, cortex-a8, cortex-a9, cortex-a15, krait, scorpion, denver. Use generic for devices that do not have a CPU similar to any of the supported cpu variants.")
 endif
 include $(cpu_variant_mk)
 libc_common_additional_dependencies += $(cpu_variant_mk)

project build/
diff --git a/core/combo/arch/arm/armv7-a-neon.mk b/core/combo/arch/arm/armv7-a-neon.mk
index 89e6573..aa3ba48 100644
--- a/core/combo/arch/arm/armv7-a-neon.mk
+++ b/core/combo/arch/arm/armv7-a-neon.mk
@@ -22,6 +22,11 @@ else
 ifeq ($(strip $(TARGET_$(combo_2nd_arch_prefix)CPU_VARIANT)),cortex-a9)
 	arch_variant_cflags := -mcpu=cortex-a9 -mfpu=neon
 else
+ifeq ($(strip $(TARGET_$(combo_2nd_arch_prefix)CPU_VARIANT)),cortex-a5)
+	arch_variant_cflags := -mcpu=cortex-a5 -mfpu=neon-vfpv4
+	arch_variant_ldflags := \
+		-Wl,--no-fix-cortex-a8
+else     
 ifneq (,$(filter cortex-a8 scorpion,$(TARGET_$(combo_2nd_arch_prefix)CPU_VARIANT)))
 	arch_variant_cflags := -mcpu=cortex-a8 -mfpu=neon
 	arch_variant_ldflags := \
@@ -40,6 +45,7 @@ endif
 endif
 endif
 endif
+endif
 
 arch_variant_cflags += \
     -mfloat-abi=softfp
diff --git a/target/product/emulator.mk b/target/product/emulator.mk
index cca29ab..49c9cac 100644
--- a/target/product/emulator.mk
+++ b/target/product/emulator.mk
@@ -51,7 +51,6 @@ PRODUCT_PACKAGES += \
     e2fsck
 
 PRODUCT_COPY_FILES += \
-    frameworks/native/data/etc/android.hardware.ethernet.xml:system/etc/permissions/android.hardware.ethernet.xml \
     device/generic/goldfish/fstab.goldfish:root/fstab.goldfish \
     device/generic/goldfish/init.goldfish.rc:root/init.goldfish.rc \
     device/generic/goldfish/init.goldfish.sh:system/etc/init.goldfish.sh \

project device/huawei/msm7x27a-common/
diff --git a/BoardConfigCommon.mk b/BoardConfigCommon.mk
index 68cbde3..b496e4f 100644
--- a/BoardConfigCommon.mk
+++ b/BoardConfigCommon.mk
@@ -86,7 +86,7 @@ TARGET_RIL_VARIANT := caf
 BOARD_PROVIDES_LIBRIL := true
 
 # FM
-#AUDIO_FEATURE_ENABLED_FM := true
+AUDIO_FEATURE_ENABLED_FM := true
 
 # GPS
 BOARD_USES_QCOM_GPS := true
diff --git a/audio/audio_hal/Android.mk b/audio/audio_hal/Android.mk
index 2137bf1..342ef1c 100644
--- a/audio/audio_hal/Android.mk
+++ b/audio/audio_hal/Android.mk
@@ -62,7 +62,7 @@ LOCAL_STATIC_LIBRARIES := \
     libmedia_helper \
     libaudiohw_legacy
 
-LOCAL_MODULE := audio.primary.$(TARGET_BOARD_PLATFORM)
+LOCAL_MODULE := audio.primary.$(TARGET_BOARD_PLATFORM)-old
 LOCAL_MODULE_PATH := $(TARGET_OUT_SHARED_LIBRARIES)/hw
 LOCAL_MODULE_TAGS := optional
 
@@ -100,7 +100,7 @@ LOCAL_STATIC_LIBRARIES := \
     libmedia_helper \
     libaudiopolicy_legacy
 
-LOCAL_MODULE := audio_policy.$(TARGET_BOARD_PLATFORM)
+LOCAL_MODULE := audio_policy.$(TARGET_BOARD_PLATFORM)-old
 LOCAL_MODULE_PATH := $(TARGET_OUT_SHARED_LIBRARIES)/hw
 LOCAL_MODULE_TAGS := optional
 
diff --git a/audio/policy_hal/Android.mk b/audio/policy_hal/Android.mk
index 4032887..7cdcc10 100644
--- a/audio/policy_hal/Android.mk
+++ b/audio/policy_hal/Android.mk
@@ -30,7 +30,7 @@ ifeq ($(strip $(QCOM_FM_ENABLED)),true)
 LOCAL_CFLAGS += -DQCOM_FM_ENABLED
 endif
 
-LOCAL_MODULE := libaudiopolicymanager
+LOCAL_MODULE := libaudiopolicymanager-eld
 
 include $(BUILD_SHARED_LIBRARY)
 
diff --git a/audio/policy_hal/AudioPolicyManager.cpp b/audio/policy_hal/AudioPolicyManager.cpp
index 4fb745d..c237b42 100644
--- a/audio/policy_hal/AudioPolicyManager.cpp
+++ b/audio/policy_hal/AudioPolicyManager.cpp
@@ -468,6 +468,7 @@ void AudioPolicyManagerCustom::updateCallRouting(audio_devices_t rxDevice, int d
     if (createTxPatch) {
 
         struct audio_patch patch;
+
         patch.num_sources = 1;
         patch.num_sinks = 1;
         deviceList = mAvailableInputDevices.getDevicesFromType(txDevice);
@@ -839,6 +840,7 @@ void AudioPolicyManagerCustom::setForceUse(audio_policy_force_use_t usage,
     checkA2dpSuspend();
     checkOutputForAllStrategies();
     updateDevicesAndOutputs();
+
     if (mEngine->getPhoneState() == AUDIO_MODE_IN_CALL && hasPrimaryOutput()) {
         audio_devices_t newDevice = getNewOutputDevice(mPrimaryOutput, true /*fromCache*/);
         updateCallRouting(newDevice);
diff --git a/overlay/frameworks/base/core/res/res/values/arrays.xml b/overlay/frameworks/base/core/res/res/values/arrays.xml
index 5b65ae4..fb6c98c 100644
--- a/overlay/frameworks/base/core/res/res/values/arrays.xml
+++ b/overlay/frameworks/base/core/res/res/values/arrays.xml
@@ -20,16 +20,8 @@
 <resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
 
     <!-- Defines the shutdown options shown in the reboot dialog. -->
-    <array name="shutdown_reboot_options" translatable="false">
-        <item>@string/reboot_reboot</item>
-        <item>@string/reboot_recovery</item>
-    </array>
 
     <!-- Do not translate. Defines the shutdown actions passed to the kernel.
          The first item should be empty for regular reboot. -->
-    <string-array name="shutdown_reboot_actions" translatable="false">
-        <item></item>
-        <item>recovery</item>
-    </string-array>
-
+  
 </resources>
diff --git a/overlay/frameworks/base/core/res/res/values/config.xml b/overlay/frameworks/base/core/res/res/values/config.xml
index 8fafc0f..4e5d166 100644
--- a/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/overlay/frameworks/base/core/res/res/values/config.xml
@@ -118,11 +118,7 @@
     <!-- Is the notification LED intrusive? Used to decide if there should be a disable option -->
     <bool name="config_intrusiveNotificationLed">true</bool>
     
-    <!-- Does the notification LED support multiple colors?
-         Used to decide if the user can change the colors -->
-    <bool name="config_multiColorNotificationLed">true</bool>
-
-    <!-- Is the battery LED intrusive? Used to decide if there should be a disable option -->
+       <!-- Is the battery LED intrusive? Used to decide if there should be a disable option -->
     <bool name="config_intrusiveBatteryLed">true</bool>
 
     <!-- Does the battery LED support multiple colors? Used to decide if the user can change the colors -->
@@ -192,9 +188,8 @@
     </integer-array>
 
     <!-- Button illumination -->
-    <integer name="config_buttonBrightnessSettingDefault">80</integer>
-    <bool name="config_deviceHasVariableButtonBrightness">true</bool>
-
+  
+   
     <!-- Hardware "softkeys" present on the device, stored as a bit field.
          This integer should equal the sum of the corresponding value for each
          of the following keys present:
@@ -233,6 +228,5 @@
     <!-- Integer indicating wpa_supplicant scan interval in milliseconds -->
     <integer translatable="false" name="config_wifi_supplicant_scan_interval">60000</integer>
 
-    <!-- Disable IpReachability monitor -->
-    <bool name="config_wifi_ipreachability_monitor">false</bool>
+    
 </resources>
diff --git a/patches/apply.sh b/patches/apply.sh
index 49b244b..3899366 100755
--- a/patches/apply.sh
+++ b/patches/apply.sh
@@ -1,17 +1,17 @@
 #!/bin/sh
 
-MYABSPATH=$(readlink -f "$0")
-PATCHBASE=$(dirname "$MYABSPATH")
-CMBASE=$(readlink -f "$PATCHBASE/../../../../")
+#MYABSPATH=$(readlink -f "$0")
+#PATCHBASE=$(dirname "$MYABSPATH")
+#CMBASE=$(readlink -f "$PATCHBASE/../../../../")
 
-for i in $(find "$PATCHBASE"/* -type d); do
-	PATCHNAME=$(basename "$i")
-	PATCHTARGET=$PATCHNAME
-	for i in $(seq 4); do
-		PATCHTARGET=$(echo $PATCHTARGET | sed 's/_/\//')
-		if [ -d "$CMBASE/$PATCHTARGET" ]; then break; fi
-	done
-	echo applying $PATCHNAME to $PATCHTARGET
-	cd "$CMBASE/$PATCHTARGET" || exit 1
-	git am -3 "$PATCHBASE/$PATCHNAME"/* || exit 1
-done
+#for i in $(find "$PATCHBASE"/* -type d); do
+#	PATCHNAME=$(basename "$i")
+#	PATCHTARGET=$PATCHNAME
+#	for i in $(seq 4); do
+#		PATCHTARGET=$(echo $PATCHTARGET | sed 's/_/\//')
+#		if [ -d "$CMBASE/$PATCHTARGET" ]; then break; fi
+#	done
+#	echo applying $PATCHNAME to $PATCHTARGET
+#	cd "$CMBASE/$PATCHTARGET" || exit 1
+#	git am -3 "$PATCHBASE/$PATCHNAME"/* || exit 1
+#done
diff --git a/patches/bionic/0001-cortex-a5-support.patch b/patches/bionic/0001-cortex-a5-support.patch
deleted file mode 100644
index ff4d680..0000000
--- a/patches/bionic/0001-cortex-a5-support.patch
+++ /dev/null
@@ -1,35 +0,0 @@
-From 8ec56e7b99cf88d85a7f1fb0709e00ba6243fe4b Mon Sep 17 00:00:00 2001
-From: Kyle Harrison <khwebmail@gmail.com>
-Date: Wed, 7 Oct 2015 14:27:22 +0100
-Subject: [PATCH] cortex-a5 support
-
-Change-Id: Id1d026ea1f06156d2260ac40c42eebc991bfd0c2
----
- libc/arch-arm/arm.mk                 | 2 +-
- libc/arch-arm/cortex-a5/cortex-a5.mk | 1 +
- 2 files changed, 2 insertions(+), 1 deletion(-)
- create mode 100644 libc/arch-arm/cortex-a5/cortex-a5.mk
-
-diff --git a/libc/arch-arm/arm.mk b/libc/arch-arm/arm.mk
-index c2b80c5..b764e49 100644
---- a/libc/arch-arm/arm.mk
-+++ b/libc/arch-arm/arm.mk
-@@ -51,7 +51,7 @@ ifeq ($(strip $(TARGET_$(my_2nd_arch_prefix)CPU_VARIANT)),)
- endif
- cpu_variant_mk := $(LOCAL_PATH)/arch-arm/$(TARGET_$(my_2nd_arch_prefix)CPU_VARIANT)/$(TARGET_$(my_2nd_arch_prefix)CPU_VARIANT).mk
- ifeq ($(wildcard $(cpu_variant_mk)),)
--$(error "TARGET_$(my_2nd_arch_prefix)CPU_VARIANT not set or set to an unknown value. Possible values are cortex-a7, cortex-a8, cortex-a9, cortex-a15, krait, scorpion, denver. Use generic for devices that do not have a CPU similar to any of the supported cpu variants.")
-+$(error "TARGET_$(my_2nd_arch_prefix)CPU_VARIANT not set or set to an unknown value. Possible values are cortex-a5, cortex-a7, cortex-a8, cortex-a9, cortex-a15, krait, scorpion, denver. Use generic for devices that do not have a CPU similar to any of the supported cpu variants.")
- endif
- include $(cpu_variant_mk)
- libc_common_additional_dependencies += $(cpu_variant_mk)
-diff --git a/libc/arch-arm/cortex-a5/cortex-a5.mk b/libc/arch-arm/cortex-a5/cortex-a5.mk
-new file mode 100644
-index 0000000..944db2c
---- /dev/null
-+++ b/libc/arch-arm/cortex-a5/cortex-a5.mk
-@@ -0,0 +1 @@
-+include bionic/libc/arch-arm/cortex-a9/cortex-a9.mk
--- 
-2.6.1
-
diff --git a/patches/build/0002-Add-cortex-a5-support.patch b/patches/build/0002-Add-cortex-a5-support.patch
deleted file mode 100644
index 4ef5108..0000000
--- a/patches/build/0002-Add-cortex-a5-support.patch
+++ /dev/null
@@ -1,37 +0,0 @@
-From b72a58e6e91fbc41faae4af31a2843bdcb1c17aa Mon Sep 17 00:00:00 2001
-From: Kyle Harrison <khwebmail@gmail.com>
-Date: Thu, 29 Oct 2015 11:48:03 +0000
-Subject: [PATCH] Add cortex-a5 support
-
-Change-Id: I2b1260998b4560bfe46b37a06f817c35a846256d
----
- core/combo/arch/arm/armv7-a-neon.mk | 6 ++++++
- 1 file changed, 6 insertions(+)
-
-diff --git a/core/combo/arch/arm/armv7-a-neon.mk b/core/combo/arch/arm/armv7-a-neon.mk
-index 9154f71..f17f574 100644
---- a/core/combo/arch/arm/armv7-a-neon.mk
-+++ b/core/combo/arch/arm/armv7-a-neon.mk
-@@ -32,6 +32,11 @@ ifeq ($(strip $(TARGET_$(combo_2nd_arch_prefix)CPU_VARIANT)),cortex-a7)
- 	arch_variant_ldflags := \
- 		-Wl,--no-fix-cortex-a8
- else
-+ifeq ($(strip $(TARGET_$(combo_2nd_arch_prefix)CPU_VARIANT)),cortex-a5)
-+	arch_variant_cflags := -mcpu=cortex-a5 -mfpu=neon-vfpv4
-+	arch_variant_ldflags := \
-+		-Wl,--no-fix-cortex-a8
-+else
- 	arch_variant_cflags := -march=armv7-a -mfpu=neon
- 	# Generic ARM might be a Cortex A8 -- better safe than sorry
- 	arch_variant_ldflags := \
-@@ -40,6 +45,7 @@ endif
- endif
- endif
- endif
-+endif
- 
- arch_variant_cflags += \
-     -mfloat-abi=softfp
--- 
-2.6.1
-
diff --git a/patches/build/0003-Remove-ethernet-permission.patch b/patches/build/0003-Remove-ethernet-permission.patch
deleted file mode 100644
index aa3704f..0000000
--- a/patches/build/0003-Remove-ethernet-permission.patch
+++ /dev/null
@@ -1,25 +0,0 @@
-From b740b0099491fbe63c94ca60e87d73e0b760d0de Mon Sep 17 00:00:00 2001
-From: Kyle Harrison <khwebmail@gmail.com>
-Date: Sun, 24 Apr 2016 13:06:16 +0100
-Subject: [PATCH] Remove ethernet permission
-
-Change-Id: I0a28c30cdf3db78ee2833f79fb91b50fe3900e6e
----
- target/product/emulator.mk | 1 -
- 1 file changed, 1 deletion(-)
-
-diff --git a/target/product/emulator.mk b/target/product/emulator.mk
-index cca29ab..49c9cac 100644
---- a/target/product/emulator.mk
-+++ b/target/product/emulator.mk
-@@ -51,7 +51,6 @@ PRODUCT_PACKAGES += \
-     e2fsck
- 
- PRODUCT_COPY_FILES += \
--    frameworks/native/data/etc/android.hardware.ethernet.xml:system/etc/permissions/android.hardware.ethernet.xml \
-     device/generic/goldfish/fstab.goldfish:root/fstab.goldfish \
-     device/generic/goldfish/init.goldfish.rc:root/init.goldfish.rc \
-     device/generic/goldfish/init.goldfish.sh:system/etc/init.goldfish.sh \
--- 
-2.8.0
-
diff --git a/patches/external_wpa_supplicant_8/0001-reduce-scan-timeout.patch b/patches/external_wpa_supplicant_8/0001-reduce-scan-timeout.patch
deleted file mode 100644
index c7d7f8f..0000000
--- a/patches/external_wpa_supplicant_8/0001-reduce-scan-timeout.patch
+++ /dev/null
@@ -1,31 +0,0 @@
-From d4e29720bc7ad6dc48bf7c202efc63bb798ffc3c Mon Sep 17 00:00:00 2001
-From: Robin Humble <plaguedbypenguins@gmail.com>
-Date: Sat, 20 Apr 2013 23:55:23 +1000
-Subject: [PATCH] wpa_supplicant: reduce scan timeout to workaround ar6000
- problem
-
-Ar6k hangs on the first scan after resume causing slow wifi reconnects
-as wpa_supplicant must timeout (30s) and then retry. Work around the
-binary module bug by setting the wpa_supplicant scan timeout to be much
-shorter. Hopefully 5s is still long enough. Scans typically take 2-3s
-on my network.
----
- src/drivers/driver_wext.c | 2 +-
- 1 file changed, 1 insertion(+), 1 deletion(-)
-
-diff --git a/src/drivers/driver_wext.c b/src/drivers/driver_wext.c
-index 701b7a3..ffcfe8a 100644
---- a/src/drivers/driver_wext.c
-+++ b/src/drivers/driver_wext.c
-@@ -1065,7 +1065,7 @@ int wpa_driver_wext_scan(void *priv, struct wpa_driver_scan_params *params)
- 		 * when scan is complete, so use longer timeout to avoid race
- 		 * conditions with scanning and following association request.
- 		 */
--		timeout = 30;
-+		timeout = 5;
- 	}
- 	wpa_printf(MSG_DEBUG, "Scan requested (ret=%d) - scan timeout %d "
- 		   "seconds", ret, timeout);
--- 
-1.8.1.2
-
diff --git a/patches/packages_apps_Settings/0001-Replace-CMUpdater-with-OTAUpdater.patch b/patches/packages_apps_Settings/0001-Replace-CMUpdater-with-OTAUpdater.patch
deleted file mode 100644
index 5fb4185..0000000
--- a/patches/packages_apps_Settings/0001-Replace-CMUpdater-with-OTAUpdater.patch
+++ /dev/null
@@ -1,28 +0,0 @@
-From 3665b83a353d51f3f41e42afcb9cd10532b83f41 Mon Sep 17 00:00:00 2001
-From: Kyle Harrison <khwebmail@gmail.com>
-Date: Fri, 11 Dec 2015 00:39:34 +0000
-Subject: [PATCH] Replace CMUpdater with OTAUpdater
-
-Change-Id: I5c693604c9e289835a8b56bbe5c04ad77804b86f
----
- res/xml/device_info_settings.xml | 4 ++--
- 1 file changed, 2 insertions(+), 2 deletions(-)
-
-diff --git a/res/xml/device_info_settings.xml b/res/xml/device_info_settings.xml
-index 6cda1ed..b71914d 100644
---- a/res/xml/device_info_settings.xml
-+++ b/res/xml/device_info_settings.xml
-@@ -38,8 +38,8 @@
-                 android:title="@string/cmupdate_settings_title"
-                 android:summary="@string/system_update_settings_list_item_summary">
-             <intent android:action="android.intent.action.MAIN"
--                    android:targetPackage="com.cyanogenmod.updater"
--                    android:targetClass="com.cyanogenmod.updater.UpdatesSettings" />
-+                    android:targetPackage="com.fusionjack.slimota"
-+                    android:targetClass="com.fusionjack.slimota.MainActivity" />
-         </PreferenceScreen>
- 
-         <!-- Device status - launches activity -->
--- 
-2.6.2
-

project device/huawei/u8833/
diff --git a/BoardConfig.mk b/BoardConfig.mk
index cf59bac..7ed843e 100644
--- a/BoardConfig.mk
+++ b/BoardConfig.mk
@@ -13,7 +13,13 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
-
+PRODUCT_PREBUILT_WEBVIEWCHROMIUM=yes
+ANDROID_COMPILE_WITH_JACK := false
+DISABLE_DEXPREOPT=true
+WITH_DEXPREOPT=false
+WITH_SU=true
+TARGET_BOOTANIMATION_HALF_RES=false
+TARGET_BOOTANIMATION_SIZE := 480x320
 # Inherit from the proprietary version
 -include vendor/huawei/u8833/BoardConfigVendor.mk
 

project device/huawei/u8951/
diff --git a/BoardConfig.mk b/BoardConfig.mk
index 69729bd..b01e7a9 100644
--- a/BoardConfig.mk
+++ b/BoardConfig.mk
@@ -13,7 +13,13 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
-
+PRODUCT_PREBUILT_WEBVIEWCHROMIUM=yes
+ANDROID_COMPILE_WITH_JACK := false
+DISABLE_DEXPREOPT=true
+WITH_DEXPREOPT=false
+WITH_SU=true
+TARGET_BOOTANIMATION_HALF_RES=false
+TARGET_BOOTANIMATION_SIZE := 480x320
 # Inherit from the proprietary version
 -include vendor/huawei/u8951/BoardConfigVendor.mk
 

project external/apache-http/
diff --git a/Android.mk b/Android.mk
index fe2b83f..4b330ea 100644
--- a/Android.mk
+++ b/Android.mk
@@ -76,7 +76,7 @@ include $(BUILD_JAVA_LIBRARY)
 # Generate the stub source files
 include $(CLEAR_VARS)
 LOCAL_SRC_FILES := $(apache_http_src_files)
-LOCAL_JAVA_LIBRARIES := $(apache_http_java_libs) tcmiface
+LOCAL_JAVA_LIBRARIES := $(apache_http_java_libs) tcmiface okhttp bouncycastle framework
 LOCAL_MODULE_CLASS := JAVA_LIBRARIES
 LOCAL_DROIDDOC_SOURCE_PATH := $(LOCAL_PATH)/src \
   $(LOCAL_PATH)/android

project external/wpa_supplicant_8/
diff --git a/src/drivers/driver_wext.c b/src/drivers/driver_wext.c
index 01defdf..f95659e 100644
--- a/src/drivers/driver_wext.c
+++ b/src/drivers/driver_wext.c
@@ -1132,7 +1132,7 @@ int wpa_driver_wext_scan(void *priv, struct wpa_driver_scan_params *params)
 		 * when scan is complete, so use longer timeout to avoid race
 		 * conditions with scanning and following association request.
 		 */
-		timeout = 30;
+		timeout = 5;
 	}
 	wpa_printf(MSG_DEBUG, "Scan requested (ret=%d) - scan timeout %d "
 		   "seconds", ret, timeout);

project frameworks/av/
diff --git a/include/media/AudioSystem.h b/include/media/AudioSystem.h
index 3f4a610..aa9d1f1 100644
--- a/include/media/AudioSystem.h
+++ b/include/media/AudioSystem.h
@@ -131,6 +131,9 @@ public:
 
     static status_t setVoiceVolume(float volume);
 
+    #ifdef QCOM_FM_ENABLED
+    static status_t setFmVolume(float volume);
+    #endif
     // return the number of audio frames written by AudioFlinger to audio HAL and
     // audio dsp to DAC since the specified output has exited standby.
     // returned status (from utils/Errors.h) can be:
diff --git a/include/media/IAudioFlinger.h b/include/media/IAudioFlinger.h
index 5051aff..e6b3ca7 100644
--- a/include/media/IAudioFlinger.h
+++ b/include/media/IAudioFlinger.h
@@ -216,6 +216,9 @@ public:
     virtual uint32_t getPrimaryOutputSamplingRate() = 0;
     virtual size_t getPrimaryOutputFrameCount() = 0;
 
+#ifdef QCOM_FM_ENABLED
+virtual status_t setFmVolume(float volume) = 0;
+#endif
     // Intended for AudioService to inform AudioFlinger of device's low RAM attribute,
     // and should be called at most once.  For a definition of what "low RAM" means, see
     // android.app.ActivityManager.isLowRamDevice().
diff --git a/media/libmedia/AudioSystem.cpp b/media/libmedia/AudioSystem.cpp
index 2e9fca9..a5b837e 100644
--- a/media/libmedia/AudioSystem.cpp
+++ b/media/libmedia/AudioSystem.cpp
@@ -430,6 +430,15 @@ status_t AudioSystem::systemReady()
     return af->systemReady();
 }
 
+#ifdef QCOM_FM_ENABLED
+status_t AudioSystem::setFmVolume(float value)
+{
+ const sp<IAudioFlinger>& af = AudioSystem::get_audio_flinger();
+ if (af == 0) return PERMISSION_DENIED;
+ return af->setFmVolume(value);
+}
+#endif
+
 // ---------------------------------------------------------------------------
 
 
diff --git a/media/libmedia/IAudioFlinger.cpp b/media/libmedia/IAudioFlinger.cpp
index 0bf503a..d8f9505 100644
--- a/media/libmedia/IAudioFlinger.cpp
+++ b/media/libmedia/IAudioFlinger.cpp
@@ -70,6 +70,9 @@ enum {
     GET_EFFECT_DESCRIPTOR,
     CREATE_EFFECT,
     MOVE_EFFECTS,
+#ifdef QCOM_FM_ENABLED
+SET_FM_VOLUME,
+#endif
     LOAD_HW_MODULE,
     GET_PRIMARY_OUTPUT_SAMPLING_RATE,
     GET_PRIMARY_OUTPUT_FRAME_COUNT,
@@ -765,6 +768,17 @@ public:
         return reply.readInt32();
     }
 
+#ifdef QCOM_FM_ENABLED
+    virtual status_t setFmVolume(float volume)
+    {
+        Parcel data, reply;
+        data.writeInterfaceToken(IAudioFlinger::getInterfaceDescriptor());
+        data.writeFloat(volume);
+        remote()->transact(SET_FM_VOLUME, data, &reply);
+        return reply.readInt32();
+    }
+#endif
+
     virtual audio_module_handle_t loadHwModule(const char *name)
     {
         Parcel data, reply;
@@ -1289,6 +1303,14 @@ status_t BnAudioFlinger::onTransact(
             reply->writeInt32(moveEffects(session, srcOutput, dstOutput));
             return NO_ERROR;
         } break;
+#ifdef QCOM_FM_ENABLED
+        case SET_FM_VOLUME: {
+            CHECK_INTERFACE(IAudioFlinger, data, reply);
+            float volume = data.readFloat();
+            reply->writeInt32( setFmVolume(volume) );
+            return NO_ERROR;
+        } break;
+#endif
         case LOAD_HW_MODULE: {
             CHECK_INTERFACE(IAudioFlinger, data, reply);
             reply->writeInt32(loadHwModule(data.readCString()));
diff --git a/services/audioflinger/AudioFlinger.cpp b/services/audioflinger/AudioFlinger.cpp
index 23215dd..8b7d979 100644
--- a/services/audioflinger/AudioFlinger.cpp
+++ b/services/audioflinger/AudioFlinger.cpp
@@ -1300,6 +1300,29 @@ status_t AudioFlinger::getRenderPosition(uint32_t *halFrames, uint32_t *dspFrame
     return BAD_VALUE;
 }
 
+#ifdef QCOM_FM_ENABLED
+status_t AudioFlinger::setFmVolume(float value)
+{
+    status_t ret = initCheck();
+    if (ret != NO_ERROR) {
+        return ret;
+    }
+
+    // check calling permissions
+    if (!settingsAllowed()) {
+        return PERMISSION_DENIED;
+    }
+
+    AutoMutex lock(mHardwareLock);
+    audio_hw_device_t *dev = mPrimaryHardwareDev->hwDevice();
+    mHardwareStatus = AUDIO_SET_FM_VOLUME;
+    ret = dev->set_fm_volume(dev, value);
+    mHardwareStatus = AUDIO_HW_IDLE;
+
+    return ret;
+}
+#endif
+
 void AudioFlinger::registerClient(const sp<IAudioFlingerClient>& client)
 {
     Mutex::Autolock _l(mLock);
diff --git a/services/audioflinger/AudioFlinger.h b/services/audioflinger/AudioFlinger.h
index 08fa70d..59ac7aa 100644
--- a/services/audioflinger/AudioFlinger.h
+++ b/services/audioflinger/AudioFlinger.h
@@ -231,7 +231,9 @@ public:
 
     virtual status_t moveEffects(int sessionId, audio_io_handle_t srcOutput,
                         audio_io_handle_t dstOutput);
-
+#ifdef QCOM_FM_ENABLED
+    virtual status_t setFmVolume(float volume);
+#endif
     virtual audio_module_handle_t loadHwModule(const char *name);
 
     virtual uint32_t getPrimaryOutputSamplingRate();
@@ -670,6 +672,9 @@ private:
         AUDIO_HW_SET_MIC_MUTE,          // set_mic_mute
         AUDIO_HW_SET_VOICE_VOLUME,      // set_voice_volume
         AUDIO_HW_SET_PARAMETER,         // set_parameters
+#ifdef QCOM_FM_ENABLED
+        AUDIO_SET_FM_VOLUME,
+#endif
         AUDIO_HW_GET_INPUT_BUFFER_SIZE, // get_input_buffer_size
         AUDIO_HW_GET_MASTER_VOLUME,     // get_master_volume
         AUDIO_HW_GET_PARAMETER,         // get_parameters
diff --git a/services/audiopolicy/service/AudioPolicyService.cpp b/services/audiopolicy/service/AudioPolicyService.cpp
index 79370f4..e6e611b 100644
--- a/services/audiopolicy/service/AudioPolicyService.cpp
+++ b/services/audiopolicy/service/AudioPolicyService.cpp
@@ -616,7 +616,18 @@ bool AudioPolicyService::AudioCommandThread::threadLoop()
                     svc->doOnOutputSessionEffectsUpdate(data->mAudioSessionInfo, data->mAdded);
                     mLock.lock();
                     } break;
-
+#ifdef QCOM_FM_ENABLED
+                case SET_FM_VOLUME: {
+                    FmVolumeData *data = (FmVolumeData *)command->mParam;
+                    ALOGV("AudioCommandThread() processing set fm volume volume %f", data->mVolume);
+                    command->mStatus = AudioSystem::setFmVolume(data->mVolume);
+                    if (command->mWaitStatus) {
+                        command->mCond.signal();
+                        mWaitWorkCV.wait(mLock);
+                    }
+                    delete data;   //Edagajebem
+                    }break;
+#endif
                 default:
                     ALOGW("AudioCommandThread() unknown command %d", command->mCommand);
                 }
@@ -781,6 +792,33 @@ status_t AudioPolicyService::AudioCommandThread::startOutputCommand(audio_io_han
     return sendCommand(command);
 }
 
+#ifdef QCOM_FM_ENABLED
+status_t AudioPolicyService::AudioCommandThread::fmVolumeCommand(float volume, int delayMs)
+{
+    status_t status = NO_ERROR;
+    AudioCommand *command = new AudioCommand();
+    command->mCommand = SET_FM_VOLUME;
+    FmVolumeData *data = new FmVolumeData();
+    data->mVolume = volume;
+    command->mParam = data;
+    if (delayMs == 0) {
+        command->mWaitStatus = true;
+    } else {
+        command->mWaitStatus = false;
+    }
+    Mutex::Autolock _l(mLock);
+    insertCommand_l(command, delayMs);
+    ALOGV("AudioCommandThread() adding set fm volume volume %f", volume);
+    mWaitWorkCV.signal();
+    if (command->mWaitStatus) {
+        command->mCond.wait(mLock);
+        status =  command->mStatus;
+        mWaitWorkCV.signal();
+    }
+    return status;
+}
+#endif
+
 void AudioPolicyService::AudioCommandThread::stopOutputCommand(audio_io_handle_t output,
                                                                audio_stream_type_t stream,
                                                                audio_session_t session)
@@ -1050,7 +1088,12 @@ void AudioPolicyService::AudioCommandThread::insertCommand_l(sp<AudioCommand>& c
         case DYN_POLICY_MIX_STATE_UPDATE: {
 
         } break;
-
+#ifdef QCOM_FM_ENABLED
+        case SET_FM_VOLUME: {
+           removedCommands.add(command2);
+           command->mTime = command2->mTime;
+        } break;
+#endif
         case START_TONE:
         case STOP_TONE:
         default:
@@ -1124,7 +1167,12 @@ int AudioPolicyService::setStreamVolume(audio_stream_type_t stream,
     return (int)mAudioCommandThread->volumeCommand(stream, volume,
                                                    output, delayMs);
 }
-
+#ifdef QCOM_FM_ENABLED
+status_t AudioPolicyService::setFmVolume(float volume, int delayMs)
+{
+    return mAudioCommandThread->fmVolumeCommand(volume, delayMs);
+}
+#endif
 int AudioPolicyService::startTone(audio_policy_tone_t tone,
                                   audio_stream_type_t stream)
 {
@@ -1207,6 +1255,15 @@ int aps_stop_tone(void *service);
 int aps_set_voice_volume(void *service, float volume, int delay_ms);
 };
 
+#ifdef QCOM_FM_ENABLED
+static int aps_set_fm_volume(void *service, float volume, int delay_ms)
+{
+    AudioPolicyService *audioPolicyService = (AudioPolicyService *)service;
+
+    return audioPolicyService->setFmVolume(volume, delay_ms);
+}
+#endif
+
 namespace {
     struct audio_policy_service_ops aps_ops = {
         .open_output           = aps_open_output,
@@ -1218,6 +1275,9 @@ namespace {
         .close_input           = aps_close_input,
         .set_stream_volume     = aps_set_stream_volume,
         .invalidate_stream     = aps_invalidate_stream,
+#ifdef QCOM_FM_ENABLED
+        .set_fm_volume         = aps_set_fm_volume,          //Edagajebem
+#endif
         .set_parameters        = aps_set_parameters,
         .get_parameters        = aps_get_parameters,
         .start_tone            = aps_start_tone,
diff --git a/services/audiopolicy/service/AudioPolicyService.h b/services/audiopolicy/service/AudioPolicyService.h
index b7f55ae..f2726f5 100644
--- a/services/audiopolicy/service/AudioPolicyService.h
+++ b/services/audiopolicy/service/AudioPolicyService.h
@@ -167,6 +167,9 @@ public:
     virtual status_t startTone(audio_policy_tone_t tone, audio_stream_type_t stream);
     virtual status_t stopTone();
     virtual status_t setVoiceVolume(float volume, int delayMs = 0);
+#ifdef QCOM_FM_ENABLED
+    virtual status_t setFmVolume(float volume, int delayMs = 0);
+#endif
     virtual bool isOffloadSupported(const audio_offload_info_t &config);
 
     virtual status_t listAudioPorts(audio_port_role_t role,
@@ -258,6 +261,9 @@ private:
             SET_VOLUME,
             SET_PARAMETERS,
             SET_VOICE_VOLUME,
+#ifdef QCOM_FM_ENABLED
+            SET_FM_VOLUME,
+#endif
             START_OUTPUT,
             STOP_OUTPUT,
             RELEASE_OUTPUT,
@@ -288,6 +294,9 @@ private:
                     status_t    parametersCommand(audio_io_handle_t ioHandle,
                                             const char *keyValuePairs, int delayMs = 0);
                     status_t    voiceVolumeCommand(float volume, int delayMs = 0);
+#ifdef QCOM_FM_ENABLED
+                    status_t    fmVolumeCommand(float volume, int delayMs = 0);
+#endif
                     status_t    startOutputCommand(audio_io_handle_t output,
                                                    audio_stream_type_t stream,
                                                    audio_session_t session);
@@ -370,7 +379,12 @@ private:
             audio_stream_type_t mStream;
             audio_session_t mSession;
         };
-
+#ifdef QCOM_FM_ENABLED
+        class FmVolumeData : public AudioCommandData {
+        public:
+            float mVolume;
+        };
+#endif
         class StopOutputData : public AudioCommandData {
         public:
             audio_io_handle_t mIO;

project frameworks/base/
diff --git a/core/java/android/app/NotificationManager.java b/core/java/android/app/NotificationManager.java
index 2219e64..6da9cf6 100644
--- a/core/java/android/app/NotificationManager.java
+++ b/core/java/android/app/NotificationManager.java
@@ -346,8 +346,9 @@ public class NotificationManager
         try {
             return service.matchesCallFilter(extras);
         } catch (RemoteException e) {
-            return false;
-        }
+             return false;
+             //return null;
+             }
     }
 
     /**
diff --git a/data/etc/Android.mk b/data/etc/Android.mk
old mode 100644
new mode 100755
index 134ac0c..d467b70
--- a/data/etc/Android.mk
+++ b/data/etc/Android.mk
@@ -30,18 +30,18 @@ LOCAL_MODULE_PATH := $(TARGET_OUT_ETC)/permissions
 LOCAL_SRC_FILES := $(LOCAL_MODULE)
 
 include $(BUILD_PREBUILT)
-
 ########################
-#include $(CLEAR_VARS)
+include $(CLEAR_VARS)
 
-#LOCAL_MODULE := required_hardware.xml
+LOCAL_MODULE := android.hardware.usb.host.xml
 
-#LOCAL_MODULE_CLASS := ETC
+LOCAL_MODULE_CLASS := ETC
 
 # This will install the file in /system/etc/permissions
 #
-#LOCAL_MODULE_PATH := $(TARGET_OUT_ETC)/permissions
+LOCAL_MODULE_PATH := $(TARGET_OUT_ETC)/permissions
 
-#LOCAL_SRC_FILES := $(LOCAL_MODULE)
+LOCAL_SRC_FILES := $(LOCAL_MODULE)
+
+include $(BUILD_PREBUILT)
 
-#include $(BUILD_PREBUILT)
diff --git a/data/etc/platform.xml b/data/etc/platform.xml
old mode 100644
new mode 100755
index 350310c..8a1542f
--- a/data/etc/platform.xml
+++ b/data/etc/platform.xml
@@ -60,9 +60,22 @@
 
     <permission name="android.permission.WRITE_MEDIA_STORAGE" >
         <group gid="media_rw" />
+		<group gid="sdcard_r" />
         <group gid="sdcard_rw" />
     </permission>
-
+	
+    <permission name="android.permission.WRITE_EXTERNAL_STORAGE" >
+        <group gid="media_rw" />
+		<group gid="sdcard_r" />
+        <group gid="sdcard_rw" />
+    </permission>
+	
+	<permission name="android.permission.ACCESS_ALL_EXTERNAL_STORAGE" >
+        <group gid="sdcard_r" />
+        <group gid="sdcard_rw" />
+        <group gid="sdcard_all" />
+		<group gid="media_rw" />
+		
     <permission name="android.permission.ACCESS_MTP" >
         <group gid="mtp" />
     </permission>
diff --git a/packages/StatementService/Android.mk b/packages/StatementService/Android.mk
index 470d824..cc0f2fe 100644
--- a/packages/StatementService/Android.mk
+++ b/packages/StatementService/Android.mk
@@ -24,7 +24,8 @@ LOCAL_PROGUARD_FLAG_FILES := proguard.flags
 LOCAL_PACKAGE_NAME := StatementService
 LOCAL_PRIVILEGED_MODULE := true
 
-LOCAL_JAVA_LIBRARIES += org.apache.http.legacy
+LOCAL_JAVA_LIBRARIES += org.apache.http.legacy okhttp
+#bouncycastle framework
 
 LOCAL_STATIC_JAVA_LIBRARIES := \
     libprotobuf-java-nano \

project kernel/huawei/huawei-kernel-3.4/
diff --git a/arch/arm/configs/u8833_defconfig b/arch/arm/configs/u8833_defconfig
index eb7e0a0..8f5d5fc 100644
--- a/arch/arm/configs/u8833_defconfig
+++ b/arch/arm/configs/u8833_defconfig
@@ -1213,19 +1213,19 @@ CONFIG_GENLOCK_MISCDEVICE=y
 CONFIG_SYNC=y
 CONFIG_SW_SYNC=y
 CONFIG_SW_SYNC_USER=y
-CONFIG_CMA=y
+# CONFIG_CMA is not set
 # CONFIG_CMA_DEBUG is not set
 
 #
 # Default contiguous memory area size:
 #
-CONFIG_CMA_SIZE_PERCENTAGE=5
+# CONFIG_CMA_SIZE_PERCENTAGE=5
 # CONFIG_CMA_SIZE_SEL_MBYTES is not set
-CONFIG_CMA_SIZE_SEL_PERCENTAGE=y
+# CONFIG_CMA_SIZE_SEL_PERCENTAGE=y
 # CONFIG_CMA_SIZE_SEL_MIN is not set
 # CONFIG_CMA_SIZE_SEL_MAX is not set
-CONFIG_CMA_ALIGNMENT=8
-CONFIG_CMA_AREAS=7
+# CONFIG_CMA_ALIGNMENT=8
+# CONFIG_CMA_AREAS=7
 # CONFIG_CONNECTOR is not set
 CONFIG_MTD=y
 # CONFIG_MTD_TESTS is not set

project packages/services/Telecomm/
diff --git a/src/com/android/server/telecom/Ringer.java b/src/com/android/server/telecom/Ringer.java
index bba200b..2c200bb 100644
--- a/src/com/android/server/telecom/Ringer.java
+++ b/src/com/android/server/telecom/Ringer.java
@@ -200,14 +200,15 @@ final class Ringer extends CallsManagerListenerBase {
             // The foreground call is one of incoming calls so play the ringer out loud.
             stopCallWaiting(call);
 
-            boolean[] shouldRingOrVibrate =
+           /* boolean[] shouldRingOrVibrate =
                     shouldRingOrVibrateForContact(foregroundCall.getContactUri());
             boolean ringAllowed = shouldRingOrVibrate[0];
-            boolean vibrationAllowed = shouldRingOrVibrate[1];
+            boolean vibrationAllowed = shouldRingOrVibrate[1]; */
+            if (!shouldRingForContact(foregroundCall.getContactUri())) { return; }
 
             AudioManager audioManager =
                     (AudioManager) mContext.getSystemService(Context.AUDIO_SERVICE);
-            if (ringAllowed && audioManager.getStreamVolume(AudioManager.STREAM_RING) >= 0) {
+            if (audioManager.getStreamVolume(AudioManager.STREAM_RING) >= 0) {
                 if (mState != STATE_RINGING) {
                     Log.event(call, Log.Events.START_RINGER);
                     mState = STATE_RINGING;
@@ -246,7 +247,7 @@ final class Ringer extends CallsManagerListenerBase {
                 Log.v(this, "startRingingOrCallWaiting, skipping because volume is 0");
             }
 
-            if (vibrationAllowed && shouldVibrate(mContext) && !mIsVibrating) {
+            if (shouldVibrate(mContext) && !mIsVibrating) {
                 mVibrator.vibrate(VIBRATION_PATTERN, VIBRATION_PATTERN_REPEAT,
                         VIBRATION_ATTRIBUTES);
                 mIsVibrating = true;
@@ -275,7 +276,7 @@ final class Ringer extends CallsManagerListenerBase {
         }
     }
 
-    private boolean[] shouldRingOrVibrateForContact(Uri contactUri) {
+    private boolean shouldRingOrVibrateForContact(Uri contactUri) {
         final NotificationManager manager =
                 (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);
         final Bundle extras = new Bundle();
@@ -285,6 +286,16 @@ final class Ringer extends CallsManagerListenerBase {
         return manager.matchesCallFilter(extras);
     }
 
+    private boolean shouldRingForContact(Uri contactUri) {
+	        final NotificationManager manager =
+	                (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);
+	        final Bundle extras = new Bundle();
+	        if (contactUri != null) {
+	            extras.putStringArray(Notification.EXTRA_PEOPLE, new String[] {contactUri.toString()});
+	        }
+	        return manager.matchesCallFilter(extras);
+    }
+
     private void stopRinging(Call call, String reasonTag) {
         if (mState == STATE_RINGING) {
             Log.event(call, Log.Events.STOP_RINGER, reasonTag);

project vendor/cm/
diff --git a/ambientsdk/Android.mk b/ambientsdk/Android.mk
index 09938a3..6cbd6a9 100644
--- a/ambientsdk/Android.mk
+++ b/ambientsdk/Android.mk
@@ -21,7 +21,8 @@ LOCAL_UNINSTALLABLE_MODULE := true
 LOCAL_MAVEN_REPO := https://repo1.maven.org/maven2
 LOCAL_MAVEN_GROUP := com.cyngn.ambient
 LOCAL_MAVEN_ARTIFACT := ambientsdk
-LOCAL_MAVEN_VERSION := 1.5.11
+#LOCAL_MAVEN_VERSION := 1.5.11
+LOCAL_MAVEN_VERSION := 1.6.0-147069776-39fe2d07
 LOCAL_MAVEN_PACKAGING := aar
 
 include $(BUILD_MAVEN_PREBUILT)

project vendor/cmsdk/
diff --git a/api/cm_current.txt b/api/cm_current.txt
index 5a57e67..7f84803 100644
--- a/api/cm_current.txt
+++ b/api/cm_current.txt
@@ -1160,6 +1160,26 @@ package cyanogenmod.providers {
     field public static final java.lang.String _ID = "_id";
   }
 
+  public static class ThemesContract.ThemeMixColumns {
+    ctor public ThemesContract.ThemeMixColumns();
+    field public static final android.net.Uri CONTENT_URI;
+    field public static final android.net.Uri PREVIEWS_URI;
+    field public static final java.lang.String TITLE = "title";
+    field public static final java.lang.String _ID = "_id";
+  }
+
+  public static class ThemesContract.ThemeMixEntryColumns {
+    ctor public ThemesContract.ThemeMixEntryColumns();
+    field public static final java.lang.String COMPONENT_ID = "component_id";
+    field public static final java.lang.String COMPONENT_TYPE = "component_type";
+    field public static final android.net.Uri CONTENT_URI;
+    field public static final java.lang.String IS_INSTALLED = "installed";
+    field public static final java.lang.String PACKAGE_NAME = "package_name";
+    field public static final java.lang.String THEME_MIX_ID = "theme_mix_id";
+    field public static final java.lang.String THEME_NAME = "theme_name";
+    field public static final java.lang.String _ID = "_id";
+  }
+
   public static class ThemesContract.ThemesColumns {
     ctor public ThemesContract.ThemesColumns();
     field public static final java.lang.String AUTHOR = "author";
diff --git a/sdk/src/java/cyanogenmod/providers/ThemesContract.java b/sdk/src/java/cyanogenmod/providers/ThemesContract.java
index 78d56cb..b5ec696 100644
--- a/sdk/src/java/cyanogenmod/providers/ThemesContract.java
+++ b/sdk/src/java/cyanogenmod/providers/ThemesContract.java
@@ -714,4 +714,96 @@ public class ThemesContract {
             LIVE_LOCK_SCREEN_THUMBNAIL,
         };
     }
+    public static class ThemeMixColumns {
+        /**
+         * Uri for accessing theme mixes
+         */
+        public static final Uri CONTENT_URI = Uri.withAppendedPath(AUTHORITY_URI, "theme_mixes");
+
+        /**
+         * Uri for retrieving the previews for the a theme mix.
+         * Querying the themes provider using this URI will return a cursor with a single row
+         * containing all the previews for the components associated with the given theme mix.
+         */
+        public static final Uri PREVIEWS_URI = Uri.withAppendedPath(AUTHORITY_URI,
+                "theme_mix_previews");
+
+        /**
+         * The unique ID for a row.
+         * <P>Type: INTEGER (long)</P>
+         */
+        public static final String _ID = "_id";
+
+        /**
+         * The name of this mix.
+         * <P>Type: TEXT</P>
+         */
+        public static final String TITLE = "title";
+
+    }
+
+    public static class ThemeMixEntryColumns {
+        /**
+         * Uri for accessing theme mix entries.
+         * These are the individual components associated with the saved theme mixes.
+         */
+        public static final Uri CONTENT_URI =
+                Uri.withAppendedPath(AUTHORITY_URI, "theme_mix_entries");
+
+        /**
+         * The unique ID for a row.
+         * <P>Type: INTEGER (long)</P>
+         */
+        public static final String _ID = "_id";
+
+        /**
+         * The unique ID of the theme mix this entry is for
+         * <P>Type: INTEGER (long)</P>
+         */
+        public static final String THEME_MIX_ID = "theme_mix_id";
+
+        /**
+         * The component type this entry is associated with
+         * <P>Type: TEXT</P>
+         * <P>Valid types are:
+         * {@link ThemesColumns#MODIFIES_ALARMS}
+         * {@link ThemesColumns#MODIFIES_BOOT_ANIM}
+         * {@link ThemesColumns#MODIFIES_FONTS}
+         * {@link ThemesColumns#MODIFIES_ICONS}
+         * {@link ThemesColumns#MODIFIES_LAUNCHER}</P>
+         * {@link ThemesColumns#MODIFIES_LIVE_LOCK_SCREEN}
+         * {@link ThemesColumns#MODIFIES_LOCKSCREEN}
+         * {@link ThemesColumns#MODIFIES_NAVIGATION_BAR}
+         * {@link ThemesColumns#MODIFIES_NOTIFICATIONS}
+         * {@link ThemesColumns#MODIFIES_OVERLAYS}
+         * {@link ThemesColumns#MODIFIES_RINGTONES}
+         * {@link ThemesColumns#MODIFIES_STATUS_BAR}
+         */
+        public static final String COMPONENT_TYPE = "component_type";
+
+        /*
+         * The unique ID for the component within a theme.
+         * Always 0 unless multiples of a component exist.
+         * <P>Type: INTEGER (long)</P>
+         */
+        public static final String COMPONENT_ID = "component_id";
+
+        /**
+         * Unique text to identify the theme package associated with this entry.
+         * <P>Type: TEXT</P>
+         */
+        public static final String PACKAGE_NAME = "package_name";
+
+        /**
+         * The name of the theme associated with this entry.
+         * <P>Type: TEXT</P>
+         */
+        public static final String THEME_NAME = "theme_name";
+
+        /**
+         * Whether the theme associated with this entry is currently installed.
+         * <P>Type: INTEGER (0|1)</P>
+         */
+        public static final String IS_INSTALLED = "installed";
+    }
 }
diff --git a/system-api/cm_system-current.txt b/system-api/cm_system-current.txt
index 5a57e67..7f84803 100644
--- a/system-api/cm_system-current.txt
+++ b/system-api/cm_system-current.txt
@@ -1160,6 +1160,26 @@ package cyanogenmod.providers {
     field public static final java.lang.String _ID = "_id";
   }
 
+  public static class ThemesContract.ThemeMixColumns {
+    ctor public ThemesContract.ThemeMixColumns();
+    field public static final android.net.Uri CONTENT_URI;
+    field public static final android.net.Uri PREVIEWS_URI;
+    field public static final java.lang.String TITLE = "title";
+    field public static final java.lang.String _ID = "_id";
+  }
+
+  public static class ThemesContract.ThemeMixEntryColumns {
+    ctor public ThemesContract.ThemeMixEntryColumns();
+    field public static final java.lang.String COMPONENT_ID = "component_id";
+    field public static final java.lang.String COMPONENT_TYPE = "component_type";
+    field public static final android.net.Uri CONTENT_URI;
+    field public static final java.lang.String IS_INSTALLED = "installed";
+    field public static final java.lang.String PACKAGE_NAME = "package_name";
+    field public static final java.lang.String THEME_MIX_ID = "theme_mix_id";
+    field public static final java.lang.String THEME_NAME = "theme_name";
+    field public static final java.lang.String _ID = "_id";
+  }
+
   public static class ThemesContract.ThemesColumns {
     ctor public ThemesContract.ThemesColumns();
     field public static final java.lang.String AUTHOR = "author";
